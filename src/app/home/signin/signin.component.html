
<div class="component">
    <h4 class="text-center">Login</h4>

    <form [formGroup]="loginForm" class="form mt-4" (submit)="login()">
    
        <div class="form-group pb-2">
            <input #userNameInput
                formControlName="userName" 
                class="form-control" 
                placeholder="Nome de usuário">
            <app-vmessage 
                *ngIf="loginForm.get('userName').errors?.required && loginForm.get('userName').touched"
                text="Nome de usuario é obrigatório!">
            </app-vmessage>        
        </div>
    
        <div class="form-group pt-2 pb-2">
            <input
                formControlName="password" 
                type="password" 
                class="form-control" 
                placeholder="Senha">
            <app-vmessage
                *ngIf="loginForm.get('password').errors?.required && loginForm.get('password').touched"
                text="Senha é obrigatória!">
            </app-vmessage>               
        </div>
    
        <button 
            [disabled]="loginForm.invalid" 
            type="submit" 
            class="btn btn-primary btn-block mt-3">
            login
        </button>
    
    </form>
    
    <p class="mt-3">Não possui uma conta? <a [routerLink]="['signup']">Registre-se agora</a></p>

    <div *ngIf="userList.length > 0">
        <table class="table">
            <thead>
                <tr>
                    <th>
                        Ranking de Usuários:
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr class="pointer" *ngFor="let user of userList; let i = index">
                    <td title="Ver perfil" (click)="openUser(user.name)">#{{i + 1}} - {{user.name}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>